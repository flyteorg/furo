!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.Gumshoe=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(u){"use strict";function d(e,t,n){n.settings.events&&(n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(n))}function n(e){var t=0;if(e.offsetParent)for(;e;)t+=e.offsetTop,e=e.offsetParent;return 0<=t?t:0}function f(e){e&&e.sort(function(e,t){return n(e.content)<n(t.content)?-1:1})}function s(e,t,n){return e=e.getBoundingClientRect(),t="function"==typeof(t=t).offset?parseFloat(t.offset()):parseFloat(t.offset),n?parseInt(e.bottom,10)<(u.innerHeight||document.documentElement.clientHeight):parseInt(e.top,10)<=t}function l(){return Math.ceil(u.innerHeight+u.pageYOffset)>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function m(e,t){var n,o,r=e[e.length-1];if(n=r,o=t,!(!l()||!s(n.content,o,!0)))return r;for(var c=e.length-1;0<=c;c--)if(s(e[c].content,t))return e[c]}function v(e,t){var n;!e||(n=e.nav.closest("li"))&&(n.classList.remove(t.navClass),e.content.classList.remove(t.contentClass),o(n,t),d("gumshoeDeactivate",n,{link:e.nav,content:e.content,settings:t}))}var h={navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0},o=function(e,t){t.nested&&e.parentNode&&((e=e.parentNode.closest("li"))&&(e.classList.remove(t.nestedClass),o(e,t)))},p=function(e,t){!t.nested||(e=e.parentNode.closest("li"))&&(e.classList.add(t.nestedClass),p(e,t))};return function(e,t){var n,r,c,o,s,l={setup:function(){n=document.querySelectorAll(e),r=[],Array.prototype.forEach.call(n,function(e){var t=document.getElementById(decodeURIComponent(e.hash.substr(1)));t&&r.push({nav:e,content:t})}),f(r)}};l.detect=function(){var e,t,n,o=m(r,s);o?c&&o.content===c.content||(v(c,s),t=s,!(e=o)||(n=e.nav.closest("li"))&&(n.classList.add(t.navClass),e.content.classList.add(t.contentClass),p(n,t),d("gumshoeActivate",n,{link:e.nav,content:e.content,settings:t})),c=o):c&&(v(c,s),c=null)};function a(e){o&&u.cancelAnimationFrame(o),o=u.requestAnimationFrame(l.detect)}function i(e){o&&u.cancelAnimationFrame(o),o=u.requestAnimationFrame(function(){f(r),l.detect()})}l.destroy=function(){c&&v(c,s),u.removeEventListener("scroll",a,!1),s.reflow&&u.removeEventListener("resize",i,!1),s=o=c=n=r=null};return s=function(){var n={};return Array.prototype.forEach.call(arguments,function(e){for(var t in e){if(!e.hasOwnProperty(t))return;n[t]=e[t]}}),n}(h,t||{}),l.setup(),l.detect(),u.addEventListener("scroll",a,!1),s.reflow&&u.addEventListener("resize",i,!1),l}});var tocScroll=null,header=null;function scrollHandlerForHeader(){0==Math.floor(header.getBoundingClientRect().top)?header.classList.add("scrolled"):header.classList.remove("scrolled")}function scrollHandlerForTOC(e){null!==tocScroll&&(0==e?tocScroll.scrollTo(0,0):Math.ceil(e)>=Math.floor(document.documentElement.scrollHeight-window.innerHeight)?tocScroll.scrollTo(0,tocScroll.scrollHeight):document.querySelector(".scroll-current"))}function scrollHandler(e){scrollHandlerForHeader(),scrollHandlerForTOC(e)}function setupScrollHandler(){var t,n=!1;window.addEventListener("scroll",function(e){t=window.scrollY,n||(window.requestAnimationFrame(function(){scrollHandler(t),n=!1}),n=!0)}),window.scroll()}function setupScrollSpy(){null!==tocScroll&&new Gumshoe(".toc-tree a",{reflow:!0,recursive:!0,navClass:"scroll-current"})}function setup(){setupScrollHandler(),setupScrollSpy()}var toggleCurrentSubsection=function(){$(".sidebar-tree").children("ul.current").each(function(){$(this).css("display","block"),$(this).prev("p.caption").css("display","block")})},highlightCurrentSubsection=function(){var e=$(".sidebar-tree").children("ul.current").prev("p.caption").text();$(".nav-header .main-sections").find("div a div.brand").each(function(){$(this).text()===e&&$(this).addClass("current")})};function main(){document.body.parentNode.classList.remove("no-js"),header=document.querySelector("header"),tocScroll=document.querySelector(".toc-scroll"),setup(),highlightCurrentSubsection(),toggleCurrentSubsection(),setTimeout(function(){$(".sidebar-tree").children("ul").first().css("display","none"),$(".sidebar-tree .caption-text").css("display","none")},10),setTimeout(function(){sidebar=document.querySelector(".sidebar-scroll"),target=document.querySelector(".current-page"),target&&sidebar.scrollTo(0,target.offsetTop+200),jQuery(".sidebar-scroll").animate({opacity:1},100)},10)}function renderMermaid(){jQuery(".mermaid").each(function(e,t){"true"===jQuery(t).parent()[0].getAttribute("hidden")||mermaid.init(jQuery(t))})}document.addEventListener("DOMContentLoaded",main),jQuery(function(){renderMermaid(),jQuery("button.sphinx-tabs-tab").on("click",function(){renderMermaid()}),jQuery("div.nav-toggler").on("click",function(){var e=jQuery(".nav-header .main-sections");e.toggleClass("nav-collapsed"),jQuery(".nav-header .external-links").toggleClass("nav-collapsed");var t=jQuery(".nav-header .nav-toggler i.fas");e.hasClass("nav-collapsed")?(t.addClass("fa-chevron-down"),t.removeClass("fa-chevron-up")):(t.addClass("fa-chevron-up"),t.removeClass("fa-chevron-down"))})});
//# sourceMappingURL=main.js.map
